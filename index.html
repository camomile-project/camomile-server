<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Camomile Collaborative Annotation Platform</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["python","javascript","http"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="python">Python</a>
              <a href="#" data-language-name="javascript">Javascript</a>
              <a href="#" data-language-name="http">HTTP</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <aside class="notice">
Documentation synchronized with Camomile-server 0.6.0
</aside>

          <h1 id="philosophy">Philosophy</h1>

<h2 id="medium">Medium</h2>

<p>A <code class="prettyprint">medium</code> is a multimedia document (e.g. an audio file, an image or a video file).</p>

<table><thead>
<tr>
<th>attributes</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">url</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">history</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">id_corpus</code></td>
<td></td>
</tr>
</tbody></table>

<h2 id="corpus">Corpus</h2>

<p>A <code class="prettyprint">corpus</code> is simply a collection of <code class="prettyprint">media</code> (e.g. all eight <em>Harry Potter</em> movies) &ndash; nothing more.</p>

<table><thead>
<tr>
<th>attributes</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">history</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">permissions</code></td>
<td></td>
</tr>
</tbody></table>

<h2 id="fragment">Fragment</h2>

<p>A <code class="prettyprint">fragment</code> is a <em>part</em> of a <code class="prettyprint">medium</code> (e.g. a rectangular area of an image or a temporal segment of an audio file). </p>

<p>A <code class="prettyprint">fragment</code> can be anything &ndash; be creative!</p>

<h2 id="annotation">Annotation</h2>

<p>An <code class="prettyprint">annotation</code> is a <code class="prettyprint">fragment</code> and its associated <code class="prettyprint">metadata</code> (e.g. the name of the person whose face is covered by the rectangular area).</p>

<p>Once again, a <code class="prettyprint">metadata</code> can be anything &ndash; be creative!</p>

<table><thead>
<tr>
<th>attributes</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">fragment</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">data</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">history</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">id_layer</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">id_medium</code></td>
<td></td>
</tr>
</tbody></table>

<h2 id="layer">Layer</h2>

<p>A <code class="prettyprint">layer</code> is simply a collection of <code class="prettyprint">annotations</code> sharing the same <code class="prettyprint">fragment</code> type and <code class="prettyprint">metadata</code> type.</p>

<table><thead>
<tr>
<th>attributes</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">fragment_type</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">data_type</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">history</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">permissions</code></td>
<td></td>
</tr>
<tr>
<td><code class="prettyprint">id_corpus</code></td>
<td></td>
</tr>
</tbody></table>

<h2 id="user">User</h2>

<p>A <code class="prettyprint">user</code> is a person with an account on the Camomile platform.</p>

<h2 id="group">Group</h2>

<p>A <code class="prettyprint">group</code> is simply a set of <code class="prettyprint">users</code> &ndash; how extraordinary!</p>

          <h1 id="server">Server</h1>

<p>The Camomile server is available on <a href="https://github.com/camomile-project/camomile-server">Github</a>.</p>

<h2 id="installation">Installation</h2>

<p>The recommended way to install and run the Camomile server is using <a href="https://docs.docker.com/">Docker</a>.</p>

<h3 id="mongodb">MongoDB</h3>

<p>It relies on <a href="https://www.mongodb.org/">MongoDB</a> for storing annotations.</p>
<pre class="highlight shell"><code><span class="gp">$ </span><span class="nb">export </span><span class="nv">CMML_DB</span><span class="o">=</span><span class="s2">"/path/to/the/database"</span>
<span class="gp">$ </span>docker run -d <span class="se">\</span>
         -v <span class="nv">$CMML_DB</span>:/data/db <span class="se">\</span>
         --name my_mongodb dockerfile/mongodb
</code></pre>

<h3 id="camomile-rest-api">Camomile REST API</h3>

<p>Once the MongoDB container is up and running, the <a href="https://nodejs.org/">NodeJS</a> Camomile server can use it as storage backend.</p>
<pre class="highlight shell"><code><span class="gp">$ </span><span class="nb">export </span><span class="nv">CMML_MEDIA</span><span class="o">=</span><span class="s2">"/path/to/media/files"</span>
<span class="gp">$ </span>docker run -d -P <span class="se">\</span>
         -v <span class="nv">$CMML_MEDIA</span>:/media <span class="se">\</span>
         -e <span class="nv">ROOT_PASSWORD</span><span class="o">=</span><span class="s2">"R00t.p455w0rd"</span> <span class="se">\</span>
         --link my_mongodb:mongodb <span class="se">\</span>
         --name camomile camomile/api
<span class="gp">$ </span><span class="nb">echo</span> <span class="s2">"Camomile server is now available at </span><span class="sb">`</span>docker port camomile 3000<span class="sb">`</span><span class="s2">"</span>
</code></pre>

          <h1 id="clients">Clients</h1>

<h2 id="python">Python</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>pip install camomile
</code></pre>

<p>The Python Camomile client is available on <a href="https://github.com/camomile-project/camomile-client-python">Github</a>.</p>

<p>It can be installed easily using <code class="prettyprint">pip</code> package manager.</p>

<h2 id="javascript">Javascript</h2>
<pre class="highlight html"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"camomile.js"</span><span class="nt">&gt;&lt;/script&gt;</span> 
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"fermata.js"</span><span class="nt">&gt;&lt;/script&gt;</span> 
</code></pre>

<p>The Javascript Camomile client is available on <a href="https://github.com/camomile-project/camomile-client-javascript">Github</a>.</p>

<p>To use it in your webapp, you need to include both <code class="prettyprint">camomile.js</code> and <code class="prettyprint">fermata.js</code>.</p>

          <h1 id="reference">Reference</h1>

<h2 id="foreword">Foreword</h2>

<h3 id="crud-rest-api">CRUD REST API</h3>

<p>CAMOMILE server follows the conventional REST API for CRUD (Create, Read, Update, Delete) data access.
For a given <em>resource</em> (either corpus, medium, layer, annotation), the correspondance with HTTP commands and Python or Javascript interface is as follows.</p>

<table><thead>
<tr>
<th>Action</th>
<th>HTTP command</th>
<th>Python/Javascript interface</th>
</tr>
</thead><tbody>
<tr>
<td>Create</td>
<td>POST /<em>resource</em></td>
<td>.create*Resource*(&hellip;)</td>
</tr>
<tr>
<td>Read</td>
<td>GET /<em>resource</em>/<code class="prettyprint">:id_resource</code></td>
<td>.get*Resource*(<code class="prettyprint">:id_resource</code>)</td>
</tr>
<tr>
<td>Update</td>
<td>PUT /<em>resource</em>/<code class="prettyprint">:id_resource</code></td>
<td>.update*Resource*(<code class="prettyprint">:id_resource</code>,&hellip;)</td>
</tr>
<tr>
<td>Delete</td>
<td>DELETE /<em>resource</em>/<code class="prettyprint">:id_resource</code></td>
<td>.delete*Resource*(<code class="prettyprint">:id_resource</code>)</td>
</tr>
</tbody></table>

<h3 id="history">History</h3>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/corpus?history=on</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">corpus</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">getCorpus</span><span class="p">(</span><span class="n">id_corpus</span><span class="p">,</span> <span class="n">history</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">do_something_with</span><span class="p">(</span><span class="n">corpus</span><span class="o">.</span><span class="n">history</span><span class="p">)</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">getCorpus</span><span class="p">(</span>
  <span class="nx">id_corpus</span><span class="p">,</span> 
  <span class="kd">function</span> <span class="p">(</span><span class="nx">corpus</span><span class="p">)</span> <span class="p">{</span> 
    <span class="nx">do_something_with</span><span class="p">(</span><span class="nx">corpus</span><span class="p">.</span><span class="nx">history</span><span class="p">);</span> 
  <span class="p">},</span>
  <span class="p">{</span><span class="na">history</span><span class="p">:</span> <span class="nx">True</span><span class="p">}</span>
<span class="p">);</span>
</code></pre>

<p>The API keeps track of all changes made to corpora, media, layers and annotations, in a dedicated <code class="prettyprint">history</code> attribute. </p>

<p>The <code class="prettyprint">history</code> is simply a list of updates that were applied to the resource. 
Each update has the following attributes:</p>

<ul>
<li><code class="prettyprint">date</code>: when the resource has changed</li>
<li><code class="prettyprint">id_user</code>: which user applied the change</li>
<li><code class="prettyprint">changes</code>: the actual modification</li>
</ul>

<p>However, to avoid sending what may become a very large amount of data with every request, the default behavior is to not send <code class="prettyprint">history</code>. </p>

<p>If you really want to get the history, you need to ask for it explicitely to get it.</p>

<h3 id="filters">Filters</h3>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/corpus?name='my%20corpus'</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">corpora</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">getCorpora</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'my corpus'</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">corpora</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s">'my corpus'</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">getCorpora</span><span class="p">(</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">corpora</span><span class="p">)</span> <span class="p">{</span>

  <span class="p">},</span>
  <span class="p">{</span><span class="na">filter</span><span class="p">:</span> <span class="p">{</span><span class="na">name</span><span class="p">:</span> <span class="s1">'my corpus'</span><span class="p">}}</span>
<span class="p">);</span>
</code></pre>

<p>Most <code class="prettyprint">get{Resource}</code> methods (e.g. <code class="prettyprint">getCorpora</code>, <code class="prettyprint">getLayers</code>, &hellip;) support filtering by resource attribute. </p>

<h3 id="permissions">Permissions</h3>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/corpus/:id_corpus/user/:id_user</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>

{"right":3}
</code></pre>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">setCorpusPermissions</span><span class="p">(</span><span class="n">id_corpus</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="n">id_user</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">setCorpusPermissions</span><span class="p">(</span><span class="n">id_corpus</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">WRITE</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="n">id_user</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">setCorpusPermissions</span><span class="p">(</span><span class="n">id_corpus</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">READ</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="n">id_group</span><span class="p">)</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">Camomile</span><span class="p">.</span><span class="nx">setCorpusPermissionsForUser</span><span class="p">(</span>
  <span class="nx">id_corpus</span><span class="p">,</span> <span class="nx">id_user</span><span class="p">,</span> <span class="nx">Camomile</span><span class="p">.</span><span class="nx">ADMIN</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>
<span class="nx">Camomile</span><span class="p">.</span><span class="nx">setCorpusPermissionsForUser</span><span class="p">(</span>
  <span class="nx">id_corpus</span><span class="p">,</span> <span class="nx">id_user</span><span class="p">,</span> <span class="nx">Camomile</span><span class="p">.</span><span class="nx">WRITE</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>
<span class="nx">Camomile</span><span class="p">.</span><span class="nx">setCorpusPermissionsForGroup</span><span class="p">(</span>
  <span class="nx">id_corpus</span><span class="p">,</span> <span class="nx">id_group</span><span class="p">,</span> <span class="nx">Camomile</span><span class="p">.</span><span class="nx">READ</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>
</code></pre>

<p>The Camomile platform handles permissions: a user may access only the resources for which they have enough permission.</p>

<p>Three levels of permissions are supported: </p>

<ul>
<li><code class="prettyprint">3 - ADMIN</code> admin permissions to the resource</li>
<li><code class="prettyprint">2 - WRITE</code> edition permissions to the resource</li>
<li><code class="prettyprint">1 - READ</code> read-only</li>
</ul>

<p><code class="prettyprint">Annotations</code> inherit permissions from the <code class="prettyprint">layer</code> they belong to.</p>

<p><code class="prettyprint">Media</code> inherit permissions from the <code class="prettyprint">corpus</code> they belong to.</p>

<h3 id="resource-id">Resource ID</h3>
<pre class="highlight python"><code><span class="n">corpora</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">getCorpora</span><span class="p">()</span>
<span class="n">id_corpora</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">getCorpora</span><span class="p">(</span><span class="n">returns_id</span><span class="o">=</span><span class="n">true</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">corpora</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">_id</span> <span class="o">==</span> <span class="n">id_corpora</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">getCorpora</span><span class="p">(</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">id_corpora</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">do_something_with</span><span class="p">(</span><span class="nx">id_corpora</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="p">{</span><span class="na">returns_id</span><span class="p">:</span> <span class="nx">True</span><span class="p">}</span>
<span class="p">);</span>
</code></pre>

<p>Each resource is given a unique identifier (<code class="prettyprint">_id</code>) by MongoDB upon creation.</p>

<p>The default behavior of most entry points is to return the complete resource, rather than just its <code class="prettyprint">_id</code>. </p>

<p>However, methods of the Python and Javascript clients support the <code class="prettyprint">returns_id</code> optional parameter. 
Setting it to <code class="prettyprint">true</code> will return the resource MongoDB <code class="prettyprint">_id</code> instead of the complete resource.</p>

<h2 id="authentication">Authentication</h2>

<h3 id="login">login</h3>

<p>POST /login</p>

<h4 id="data-parameters">DATA PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>String</td>
<td>The user name  (required)</td>
</tr>
<tr>
<td>password</td>
<td>String</td>
<td>The password  (required)</td>
</tr>
</tbody></table>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/login</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>

{'username': 'johndoe', 'password': 'secretpassword'}

</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">camomile</span> <span class="kn">import</span> <span class="n">Camomile</span> 
<span class="n">server</span> <span class="o">=</span> <span class="s">'http://example.com'</span>  
<span class="n">client</span> <span class="o">=</span> <span class="n">Camomile</span><span class="p">(</span><span class="n">server</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">server</span> <span class="o">=</span> <span class="s1">'http://example.com'</span><span class="p">;</span>
<span class="nx">Camomile</span><span class="p">.</span><span class="nx">setURL</span><span class="p">(</span><span class="nx">server</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>JSON response upon success</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authentication succeeded."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="logout">logout</h3>

<p>POST /logout</p>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/logout</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
</code></pre>

<blockquote>
<p>JSON response upon success</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Logout succeeded."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="get-logged-in-user">get logged in user</h3>

<p>GET /me </p>
<pre class="highlight python"><code><span class="n">user</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">me</span><span class="p">()</span>
<span class="n">id_user</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">me</span><span class="p">(</span><span class="n">returns_id</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/me</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555299eff80f910100d741d1"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
 </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="update-password">update password</h3>

<p>PUT /me</p>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">update_password</span><span class="p">(</span><span class="s">'new_password'</span><span class="p">)</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">update_password</span><span class="p">(</span><span class="s2">"new_password"</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/me</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>

{
  "password": "new_password"
}
</code></pre>

<blockquote>
<p>JSON response upon success</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Password successfully updated."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="users-amp-groups">Users &amp; Groups</h2>

<h3 id="create-new-user">create new user</h3>

<aside class="notice">
Restricted to user with &lsquo;admin&rsquo; role.
</aside>

<p>POST /user </p>

<h4 id="data-parameters">DATA PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>String</td>
<td>The user name  (required, unique and without space, can&rsquo;t be updated)</td>
</tr>
<tr>
<td>password</td>
<td>String</td>
<td>The password  (required)</td>
</tr>
<tr>
<td>description</td>
<td>free</td>
<td>A description of the user</td>
</tr>
<tr>
<td>role</td>
<td>String</td>
<td>The user role (&ldquo;admin&rdquo; or &ldquo;user&rdquo;)  (required)</td>
</tr>
</tbody></table>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/user</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>

{'username': 'johndoe',
 'password': 'secretpassword',
 'description': 'annotator',
 'role': 'user'}

</code></pre>
<pre class="highlight python"><code><span class="n">user</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">createUser</span><span class="p">(</span><span class="s">'username'</span><span class="p">,</span> <span class="s">'password'</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="s">'user'</span><span class="p">,</span>
                         <span class="n">description</span><span class="o">=</span><span class="p">{</span><span class="s">'affiliation'</span><span class="p">:</span> <span class="s">'LIMSI/CNRS'</span><span class="p">,</span> 
                                      <span class="s">'status'</span><span class="p">:</span> <span class="s">'PhD student'</span><span class="p">})</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">client</span><span class="p">.</span><span class="nx">createUser</span><span class="p">(</span><span class="s1">'username'</span><span class="p">,</span> <span class="s1">'password'</span><span class="p">,</span> 
                  <span class="p">{</span><span class="s1">'affiliation'</span><span class="p">:</span> <span class="s1">'LIMSI/CNRS'</span><span class="p">,</span> <span class="s1">'status'</span><span class="p">:</span> <span class="s1">'PhD student'</span><span class="p">}</span>
                  <span class="s1">'user'</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"558818da01e0ef01006e979b"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"annotator"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="delete-one-user">delete one user</h3>

<aside class="notice">
Restricted to user with 'admin&rsquo; role.
</aside>

<p>DELETE /user/<code class="prettyprint">:id_user</code></p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_user</td>
<td>String</td>
<td>The user identifier (required)</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">deleteUser</span><span class="p">(</span><span class="n">id_user</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/user/:id_user</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>JSON response upon success</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successfully deleted."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="get-all-users">get all users</h3>

<p>GET /user</p>

<h4 id="data-parameters">DATA PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>String</td>
<td>filter users by username (optional)</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">users</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">getUsers</span><span class="p">()</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/user</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
 </span><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5552998df80f910100d741d0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"root"</span><span class="w">
 </span><span class="p">},</span><span class="w">
 </span><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"558818da01e0ef01006e979b"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"annotator"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe"</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="get-one-user">get one user</h3>

<p>GET /user/<code class="prettyprint">:id_user</code></p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_user</td>
<td>String</td>
<td>The user identifier (required)</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">user</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">getUser</span><span class="p">(</span><span class="n">id_user</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/user/:id_user</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"558818da01e0ef01006e979b"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"annotator"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="update-one-user">update one user</h3>

<aside class="notice">
Restricted to user with 'admin&rsquo; role.
</aside>

<p>PUT /user/<code class="prettyprint">:id_user</code></p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_user</td>
<td>String</td>
<td>The user identifier (required)</td>
</tr>
</tbody></table>

<h4 id="data-parameters">DATA PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>password</td>
<td>String</td>
<td>The password</td>
</tr>
<tr>
<td>description</td>
<td>free</td>
<td>A description of the user</td>
</tr>
<tr>
<td>role</td>
<td>String</td>
<td>The user role (&ldquo;admin&rdquo; or &ldquo;user&rdquo;)</td>
</tr>
</tbody></table>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/user/:id_user</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>

{'description': 'expert annotator'}
</code></pre>
<pre class="highlight python"><code><span class="n">user</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">updateUser</span><span class="p">(</span><span class="n">id_user</span><span class="p">,</span>
                         <span class="n">password</span><span class="o">=</span><span class="s">'password'</span><span class="p">,</span>
                         <span class="n">description</span><span class="o">=</span><span class="p">{</span><span class="s">'number'</span><span class="p">:</span> <span class="mi">42</span><span class="p">},</span>
                         <span class="n">role</span><span class="o">=</span><span class="s">'admin'</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"558818da01e0ef01006e979b"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"expert annotator"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="get-one-user-39-s-groups">get one user&rsquo;s groups</h3>

<aside class="notice">
Restricted to user with 'admin&rsquo; role.
</aside>

<p>GET /user/<code class="prettyprint">:id_user</code>/group</p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_user</td>
<td>String</td>
<td>The user identifier (required)</td>
</tr>
</tbody></table>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/user/:id_user/group</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">id_groups</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">getUserGroups</span><span class="p">(</span><span class="n">id_user</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
 </span><span class="s2">"55881d1601e0ef01006e979c"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="get-all-groups">get all groups</h3>

<aside class="notice">
Restricted to user with 'admin&rsquo; role.
</aside>

<p>GET /group</p>

<h4 id="data-parameters">DATA PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>filter groups by name (optional)</td>
</tr>
</tbody></table>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/group</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>

{'name': 'project'}
</code></pre>
<pre class="highlight python"><code><span class="n">groups</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">getGroups</span><span class="p">()</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
 </span><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55881d1601e0ef01006e979c"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"members of the project"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"project"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"558818da01e0ef01006e979b"</span><span class="p">,</span><span class="w"> </span><span class="s2">"55881d6001e0ef01006e979d"</span><span class="p">]</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="get-one-group">get one group</h3>

<aside class="notice">
Restricted to user with 'admin&rsquo; role.
</aside>

<p>GET /group/<code class="prettyprint">:id_group</code></p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_group</td>
<td>String</td>
<td>The group identifier (required)</td>
</tr>
</tbody></table>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/group/:id_group</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">group</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">getGroup</span><span class="p">(</span><span class="n">id_group</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55881d1601e0ef01006e979c"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"members of the project"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"project"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"558818da01e0ef01006e979b"</span><span class="p">,</span><span class="w"> </span><span class="s2">"55881d6001e0ef01006e979d"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="create-new-group">create new group</h3>

<aside class="notice">
Restricted to user with 'admin&rsquo; role.
</aside>

<p>POST /group</p>

<h4 id="data-parameters">DATA PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>The group name (can&rsquo;t be updated)</td>
</tr>
<tr>
<td>description</td>
<td>free</td>
<td>A description of the group</td>
</tr>
</tbody></table>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/group</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>

{'name': 'guests'}
</code></pre>
<pre class="highlight python"><code><span class="n">group</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">createGroup</span><span class="p">(</span>
  <span class="s">'limsi'</span><span class="p">,</span> 
  <span class="n">description</span><span class="o">=</span><span class="p">{</span><span class="s">'affiliation'</span><span class="p">:</span> <span class="s">'LIMSI'</span><span class="p">})</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55881f8301e0ef01006e979e"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
 </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"guests"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="update-one-group">update one group</h3>

<aside class="notice">
Restricted to user with 'admin&rsquo; role.
</aside>

<p>PUT /group/<code class="prettyprint">:id_group</code></p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_group</td>
<td>String</td>
<td>The group identifier (required)</td>
</tr>
</tbody></table>

<h4 id="data-parameters">DATA PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>description</td>
<td>free</td>
<td>A description of the group</td>
</tr>
</tbody></table>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/group/:id_group</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>

{ 'description': 'open trial'}
</code></pre>
<pre class="highlight python"><code><span class="n">group</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">updateGroup</span><span class="p">(</span>
  <span class="n">id_group</span><span class="p">,</span> 
  <span class="n">description</span><span class="o">=</span><span class="p">{</span><span class="s">'affiliation'</span><span class="p">:</span> <span class="s">'LIMSI/CNRS'</span><span class="p">})</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55881f8301e0ef01006e979e"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open trial"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"guests"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="delete-one-group">delete one group</h3>

<aside class="warning">
Restricted to 'root&rsquo; user.
</aside>

<p>DELETE /group/<code class="prettyprint">:id_group</code></p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_group</td>
<td>String</td>
<td>The group identifier (required)</td>
</tr>
</tbody></table>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/group/:id_group</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">deleteGroup</span><span class="p">(</span><span class="n">id_group</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>JSON response upon success</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successfully deleted."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="add-one-user-to-one-group">add one user to one group</h3>

<aside class="notice">
Restricted to user with 'admin&rsquo; role.
</aside>

<p>PUT /group/<code class="prettyprint">:id_group</code>/user/<code class="prettyprint">:id_user</code></p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_group</td>
<td>String</td>
<td>The group identifier (required)</td>
</tr>
<tr>
<td>id_user</td>
<td>String</td>
<td>The user identifier (required)</td>
</tr>
</tbody></table>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/group/:id_group/user/:id_user</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">addUserToGroup</span><span class="p">(</span><span class="n">id_user</span><span class="p">,</span> <span class="n">id_group</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55881d1601e0ef01006e979c"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"members of the project"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"project"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"558818da01e0ef01006e979b"</span><span class="p">,</span><span class="w"> </span><span class="s2">"55881d6001e0ef01006e979d"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="remove-one-user-from-one-group">remove one user from one group</h3>

<aside class="notice">
Restricted to user with 'admin&rsquo; role.
</aside>

<p>DELETE /group/<code class="prettyprint">:id_group</code>/user/<code class="prettyprint">:id_user</code></p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_group</td>
<td>String</td>
<td>The group identifier (required)</td>
</tr>
<tr>
<td>id_user</td>
<td>String</td>
<td>The user identifier (required)</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">removeUserFromGroup</span><span class="p">(</span><span class="n">id_user</span><span class="p">,</span> <span class="n">id_group</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/group/:id_group/user/:id_user</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55881d1601e0ef01006e979c"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"members of the project"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"project"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"558818da01e0ef01006e979b"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="corpora">Corpora</h2>

<h3 id="get-all-readable-corpora">get all READable corpora</h3>

<p>GET /corpus</p>
<pre class="highlight python"><code><span class="n">corpora</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">getCorpora</span><span class="p">()</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/corpus</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
 </span><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555daefff80f910100d741d6"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test corpus"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ctest"</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="get-one-corpus">get one corpus</h3>

<aside class="notice">Restricted to user with READ permissions to the resource.</aside>

<p>GET /corpus/<code class="prettyprint">:id_corpus</code></p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_corpus</td>
<td>String</td>
<td>The corpus identifier (required)</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">corpus</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">getCorpus</span><span class="p">(</span><span class="n">id_corpus</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/corpus/:id_corpus</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555daefff80f910100d741d6"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test corpus"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ctest"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="create-new-corpus">create new corpus</h3>

<aside class="notice">
Restricted to user with 'admin&rsquo; role.
</aside>

<p>POST /corpus</p>

<h4 id="data-parameters">DATA PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>The corpus name (unique)</td>
</tr>
<tr>
<td>description</td>
<td>free</td>
<td>A description of the corpus</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">corpus</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">createCorpus</span><span class="p">(</span>
  <span class="s">'unique name'</span><span class="p">,</span> 
  <span class="n">description</span><span class="o">=</span><span class="p">{</span><span class="s">'license'</span><span class="p">:</span> <span class="s">'Creative Commons'</span><span class="p">})</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/corpus</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>

{'name': 'unique name', 'description': {'license': 'Creative Commons'}}

</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555daefff80f910100d741d6"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"license"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Creative Commons"</span><span class="p">},</span><span class="w">
 </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unique name"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="update-one-corpus">update one corpus</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>PUT /corpus/<code class="prettyprint">:id_corpus</code></p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_corpus</td>
<td>String</td>
<td>The corpus identifier (required)</td>
</tr>
</tbody></table>

<h4 id="data-parameters">DATA PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>The corpus name (unique)</td>
</tr>
<tr>
<td>description</td>
<td>free</td>
<td>A description of the corpus</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">corpus</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">updateCorpus</span><span class="p">(</span>
  <span class="n">id_corpus</span><span class="p">,</span> 
  <span class="n">name</span><span class="o">=</span><span class="s">'new name'</span><span class="p">,</span> 
  <span class="n">description</span><span class="o">=</span><span class="p">{</span><span class="s">'license'</span><span class="p">:</span> <span class="s">'MIT'</span><span class="p">})</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/corpus/:id_corpus</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>

{'description': {'license': 'MIT'},
 'name': 'new name'}
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555daefff80f910100d741d6"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"license"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MIT"</span><span class="p">},</span><span class="w">
 </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new name"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="delete-one-corpus">delete one corpus</h3>

<aside class="notice">
Restricted to user with 'admin&rsquo; role and ADMIN permissions to the resource.
</aside>

<aside class="warning">This request also delete media, layers and annotations inside the corpus</aside>

<p>DELETE /corpus/<code class="prettyprint">:id_corpus</code></p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_corpus</td>
<td>String</td>
<td>The corpus identifier (required)</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">deleteCorpus</span><span class="p">(</span><span class="n">id_corpus</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/corpus/:id_corpus</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>JSON response upon success</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successfully deleted."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="get-one-corpus-39-permissions">get one corpus&rsquo; permissions</h3>

<aside class="notice">
Restricted to user with ADMIN permissions to the resource.
</aside>

<p>GET /corpus/<code class="prettyprint">:id_corpus</code>/permissions</p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_corpus</td>
<td>String</td>
<td>The corpus identifier (required)</td>
</tr>
</tbody></table>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/corpus/:id_corpus/permissions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">permissions</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">getCorpusPermissions</span><span class="p">(</span><span class="n">id_corpus</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"5423dc0900e5c11a8fc723ba"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"5423dc0900e5c11a8fc723bb"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"5423dfeb00e5c11a8fc723bc"</span><span class="p">,</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="give-one-user-permissions-to-one-corpus">give one user permissions to one corpus</h3>

<aside class="notice">
Restricted to user with ADMIN permissions to the resource.
</aside>

<p>PUT /corpus/<code class="prettyprint">:id_corpus</code>/user/<code class="prettyprint">:id_user</code></p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_corpus</td>
<td>String</td>
<td>The corpus identifier (required)</td>
</tr>
<tr>
<td>id_user</td>
<td>String</td>
<td>The user identifier (required)</td>
</tr>
</tbody></table>

<h4 id="data-parameters">DATA PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>right</td>
<td>1, 2 or 3</td>
<td>The corpus permissions (1:READ, 2:WRITE, 3:ADMIN)</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">setCorpusPermissions</span><span class="p">(</span><span class="n">id_corpus</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">ADMIN</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="n">id_user</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/corpus/:id_corpus/user/:id_user</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">{'right'</span><span class="p">:</span> <span class="s">3}</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"555299eff80f910100d741d1"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nt">"5552bf5cf80f910100d741d2"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"55881d6001e0ef01006e979d"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="remove-one-user-39-s-permissions-to-one-corpus">remove one user&rsquo;s permissions to one corpus</h3>

<aside class="notice">
Restricted to user with ADMIN permissions to the resource.
</aside>

<p>DELETE /corpus/<code class="prettyprint">:id_corpus</code>/user/<code class="prettyprint">:id_user</code></p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_corpus</td>
<td>String</td>
<td>The corpus identifier (required)</td>
</tr>
<tr>
<td>id_user</td>
<td>String</td>
<td>The user identifier (required)</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">removeCorpusPermissions</span><span class="p">(</span><span class="n">id_corpus</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="n">id_user</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/corpus/:id_corpus/user/:id_user</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"555299eff80f910100d741d1"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nt">"5552bf5cf80f910100d741d2"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="give-one-group-permissions-to-one-corpus">give one group permissions to one corpus</h3>

<aside class="notice">
Restricted to user with ADMIN permissions to the resource.
</aside>

<p>PUT /corpus/<code class="prettyprint">:id_corpus</code>/group/<code class="prettyprint">:id_group</code></p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_corpus</td>
<td>String</td>
<td>The corpus identifier (required)</td>
</tr>
<tr>
<td>id_group</td>
<td>String</td>
<td>The group identifier (required)</td>
</tr>
</tbody></table>

<h4 id="data-parameters">DATA PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>right</td>
<td>1, 2 or 3</td>
<td>The corpus permissions (1:READ, 2:WRITE, 3:ADMIN)</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">setCorpusPermissions</span><span class="p">(</span><span class="n">id_corpus</span><span class="p">,</span> <span class="n">ADMIN</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="n">id_group</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/corpus/:id_corpus/group/:id_group</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"55881d1601e0ef01006e979c"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">},</span><span class="w">
 </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"555299eff80f910100d741d1"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> 
   </span><span class="nt">"5552bf5cf80f910100d741d2"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="remove-one-group-39-s-permissions-to-one-corpus">remove one group&rsquo;s permissions to one corpus</h3>

<aside class="notice">
Restricted to user with ADMIN permissions to the resource.
</aside>

<p>DELETE /corpus/<code class="prettyprint">:id_corpus</code>/group/<code class="prettyprint">:id_group</code></p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_corpus</td>
<td>String</td>
<td>The corpus identifier (required)</td>
</tr>
<tr>
<td>id_group</td>
<td>String</td>
<td>The group identifier (required)</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">removeCorpusPermissions</span><span class="p">(</span><span class="n">id_corpus</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="n">id_group</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/corpus/:id_corpus/group/:id_group</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"555299eff80f910100d741d1"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nt">"5552bf5cf80f910100d741d2"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="media">Media</h2>

<h3 id="get-all-media">get all media</h3>

<aside class="warning">
Restricted to 'root&rsquo; user.
</aside>

<p>GET /medium </p>

<h4 id="data-parameters">DATA PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>filter media by name</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">getMedia</span><span class="p">()</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/medium</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
 </span><span class="p">{</span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w"> </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nt">"id_corpus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"show1"</span><span class="p">,</span><span class="w"> </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">},</span><span class="w">
 </span><span class="p">{</span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w"> </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nt">"id_corpus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"show2"</span><span class="p">,</span><span class="w"> </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">}</span><span class="w">
 </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="get-one-medium">get one medium</h3>

<aside class="notice">Restricted to user with READ permissions to the resource.</aside>

<p>GET /medium/:id_medium`</p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_medium</td>
<td>String</td>
<td>The medium identifier (required)</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">getMedium</span><span class="p">(</span><span class="n">id_medium</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/medium/:id_medium</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555db2e6f80f910100d741d8"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id_corpus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555daefff80f910100d741d6"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LCP_PileEtFace_2012-11-30_012500"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="get-one-corpus-39-media">get one corpus&rsquo; media</h3>

<aside class="notice">Restricted to user with READ permissions to the resource.</aside>

<p>GET /corpus/<code class="prettyprint">:id_corpus</code>/medium</p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_corpus</td>
<td>String</td>
<td>The corpus identifier (required)</td>
</tr>
</tbody></table>

<h4 id="data-parameters">DATA PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>filter media by name</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">getMedia</span><span class="p">(</span><span class="n">id_corpus</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/corpus/:id_corpus/medium</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555db2e6f80f910100d741d8"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id_corpus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555daefff80f910100d741d6"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LCP_PileEtFace_2012-11-30_012500"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="create-new-medium-a-in-one-corpus">create new medium(a) in one corpus</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>POST /corpus/:id_corpus/medium</p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_corpus</td>
<td>String</td>
<td>The corpus identifier (required)</td>
</tr>
</tbody></table>

<h4 id="data-parameters">DATA PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>The medium name (unique)</td>
</tr>
<tr>
<td>url</td>
<td>String</td>
<td>absolute or relative URL to the medium</td>
</tr>
<tr>
<td>description</td>
<td>free</td>
<td>A description of the medium</td>
</tr>
</tbody></table>

<p>OR list of {name, url, description}</p>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">createMedium</span><span class="p">(</span><span class="n">id_corpus</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">description</span><span class="p">)</span>

<span class="n">media</span> <span class="o">=</span> <span class="p">[{</span><span class="s">'name'</span><span class="p">:</span><span class="s">'show1'</span><span class="p">},</span> <span class="p">{</span><span class="s">'name'</span><span class="p">:</span><span class="s">'show2'</span><span class="p">}]</span>
<span class="n">client</span><span class="o">.</span><span class="n">createMedia</span><span class="p">(</span><span class="n">id_corpus</span><span class="p">,</span> <span class="n">media</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/corpus/:id_corpus/medium</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>

{'name': 'LCP_PileEtFace_2012-11-30_012500'}
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55895e90c70125010026f6b5"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"id_corpus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"558955cec70125010026f6aa"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LCP_PileEtFace_2012-11-30_012500"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="update-one-medium">update one medium</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>PUT /medium/:id_medium</p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_medium</td>
<td>String</td>
<td>The medium identifier (required)</td>
</tr>
</tbody></table>

<h4 id="data-parameters">DATA PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>The medium name (unique)</td>
</tr>
<tr>
<td>url</td>
<td>String</td>
<td>absolute or relative URL to the medium</td>
</tr>
<tr>
<td>description</td>
<td>free</td>
<td>A description of the medium</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">updateMedium</span><span class="p">(</span><span class="n">id_medium</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">description</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/medium/:id_medium</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>

{'description': 'LCP channel'}
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55895e90c70125010026f6b5"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"id_corpus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"558955cec70125010026f6aa"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LCP_PileEtFace_2012-11-30_012500"</span><span class="p">,</span><span class="w">
 </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
 </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LCP channel"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="delete-one-medium">delete one medium</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>DELETE /medium/:id_medium</p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_medium</td>
<td>String</td>
<td>The medium identifier (required)</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">deleteMedium</span><span class="p">(</span><span class="n">id_medium</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/medium/:id_medium</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>JSON response upon success</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
 </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successfully deleted."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="stream-one-medium-in-default-format">stream one medium in default format</h3>

<aside class="notice">Restricted to user with READ permissions to the resource.</aside>

<p>GET /medium/:id_medium/video</p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_medium</td>
<td>String</td>
<td>The medium identifier (required)</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">streamMedium</span><span class="p">(</span><span class="n">id_medium</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/medium/:id_medium/video</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<h3 id="stream-one-medium-in-webm-mp4-or-ogv">stream one medium in WebM, MP4 or OGV</h3>

<aside class="notice">Restricted to user with READ permissions to the resource.</aside>

<p>GET /medium/:id_medium/{webm,mp4,ogv}</p>

<h4 id="query-parameters">QUERY PARAMETERS</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id_medium</td>
<td>String</td>
<td>The medium identifier (required)</td>
</tr>
</tbody></table>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">streamMedium</span><span class="p">(</span><span class="n">id_medium</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">'webm'</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">streamMedium</span><span class="p">(</span><span class="n">id_medium</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">'mp4'</span><span class="p">)</span>
<span class="n">client</span><span class="o">.</span><span class="n">streamMedium</span><span class="p">(</span><span class="n">id_medium</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">'ogv'</span><span class="p">)</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/medium/:id_medium/webm</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>

GET /medium/:id_medium/mp4 HTTP/1.1

GET /medium/:id_medium/ogv HTTP/1.1
</code></pre>

<p>## Layers</p>

<h3 id="get-all-layers">get all layers</h3>

<aside class="warning">
Restricted to 'root&rsquo; user.
</aside>

<p>GET /layer</p>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/layer</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="get-one-layer">get one layer</h3>

<aside class="notice">Restricted to user with READ permissions to the resource.</aside>

<p>GET /layer/:id_layer</p>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/layer/:id_layer</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="get-one-corpus-39-layers">get one corpus&rsquo; layers</h3>

<aside class="notice">Restricted to user with READ permissions to the resource.</aside>

<p>GET /corpus/:id_corpus/layer</p>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/corpus/:id_corpus/layer</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="create-new-layer-s-in-one-corpus">create new layer(s) in one corpus</h3>

<aside class="notice">Restricted to user with WRITE permissions to the resource.</aside>

<p>POST /corpus/:id_corpus/layer</p>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/corpus/:id_corpus/layer</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="update-one-layer">update one layer</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>PUT /layer/:id_layer</p>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/layer/:id_layer</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="delete-one-layer">delete one layer</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>DELETE /layer/:id_layer</p>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/layer/:id_layer</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="get-one-layer-39-s-permissions">get one layer&rsquo;s permissions</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>GET /layer/:id_layer/permissions</p>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/layer/:id_layer/permissions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="give-one-user-permissions-to-one-layer">give one user permissions to one layer</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>PUT /layer/:id_layer/user/:id_user</p>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/layer/:id_layer/user/:id_user</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="remove-one-user-39-s-permissions-to-one-layer">remove one user&rsquo;s permissions to one layer</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>DELETE /layer/:id_layer/user/:id_user</p>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/layer/:id_layer/user/:id_user</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="give-one-group-permissions-to-one-layer">give one group permissions to one layer</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>PUT /layer/:id_layer/group/:id_group </p>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/layer/:id_layer/group/:id_group</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="remove-on-group-39-s-permissions-to-one-layer">remove on group&rsquo;s permissions to one layer</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>DELETE /layer/:id_layer/group/:id_group</p>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/layer/:id_layer/group/:id_group</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="annotations">Annotations</h2>

<h3 id="get-all-annotations">get all annotations</h3>

<aside class="warning">
Restricted to 'root&rsquo; user.
</aside>

<p>GET /annotation</p>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/annotation</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="get-one-annotation">get one annotation</h3>

<aside class="notice">Restricted to user with READ permissions to the resource.</aside>

<p>GET /annotation/:id_annotation</p>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/annotation/:id_annotation</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="get-one-layer-39-s-annotations">get one layer&rsquo;s annotations</h3>

<aside class="notice">Restricted to user with READ permissions to the resource.</aside>

<p>GET /layer/:id_layer/annotation</p>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/layer/:id_layer/annotation</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="create-new-annotation-s-in-one-layer">create new annotation(s) in one layer</h3>

<aside class="notice">Restricted to user with WRITE permissions to the resource.</aside>

<p>POST /layer/:id_layer/annotation</p>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/layer/:id_layer/annotation</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="update-one-annotation">update one annotation</h3>

<aside class="notice">Restricted to user with WRITE permissions to the resource.</aside>

<p>PUT /annotation/:id_annotation</p>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/annotation/:id_annotation</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="delete-one-annotation">delete one annotation</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>DELETE /annotation/:id_annotation</p>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/annotation/:id_annotation</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="queues">Queues</h2>

<h3 id="get-all-queues">get all queues</h3>

<p>GET /queue</p>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/queue</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">queues</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">getQueues</span><span class="p">()</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5423dc0900e5c11a8fc723bb"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"my"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">},</span><span class="w">
    </span><span class="nt">"list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"item1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"item2"</span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="get-one-queue">get one queue</h3>

<aside class="notice">Restricted to user with WRITE permissions to the resource.</aside>

<p>GET /queue/:id_queue</p>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/queue/:id_queue</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5423dc0900e5c11a8fc723bb"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"my"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">},</span><span class="w">
  </span><span class="nt">"list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"item1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"item2"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="create-new-queue">create new queue</h3>

<aside class="notice">Restricted to user with 'admin&rsquo; role.</aside>

<p>POST /queue</p>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/queue</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">queue</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">createQueue</span><span class="p">(</span><span class="s">'queue name'</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="p">{</span><span class="s">'my'</span><span class="p">:</span> <span class="s">'description'</span><span class="p">})</span>
</code></pre>

<blockquote>
<p>Sample JSON request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"my"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5423dc0900e5c11a8fc723bb"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"my"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">},</span><span class="w">
  </span><span class="nt">"list"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="update-one-queue">update one queue</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>PUT /queue/:id_queue</p>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/queue/:id_queue</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">queue</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">updateQueue</span><span class="p">(</span><span class="n">id_queue</span><span class="p">,</span> 
  <span class="n">name</span><span class="o">=</span><span class="s">'new name'</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="p">{</span><span class="s">'new'</span><span class="p">:</span> <span class="s">'description'</span><span class="p">},</span>
  <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="s">'item1'</span><span class="p">,</span> <span class="s">'item2'</span><span class="p">])</span>
</code></pre>

<blockquote>
<p>Sample JSON request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"new"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">},</span><span class="w">
  </span><span class="nt">"list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"item1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"item2"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="s2">"5423dc0900e5c11a8fc723bb"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"new"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">},</span><span class="w">
  </span><span class="nt">"list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"item1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"item2"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="append-item-s-to-one-queue">append item(s) to one queue</h3>

<aside class="notice">Restricted to user with WRITE permissions to the resource.</aside>

<p>PUT /queue/:id_queue/next</p>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/queue/:id_queue/next</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">queue</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span><span class="n">id_queue</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="pop-one-item-from-one-queue">pop one item from one queue</h3>

<aside class="notice">Restricted to user with WRITE permissions to the resource.</aside>

<p>GET /queue/:id_queue/next</p>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/queue/:id_queue/next</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">item</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">dequeue</span><span class="p">(</span><span class="n">id_queue</span><span class="p">)</span>
</code></pre>

<h3 id="get-next-item-on-one-queue-without-actually-removing-it">get next item on one queue (without actually removing it)</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>(Non-destructively) pick first element of queue</p>

<p>GET /queue/:id_queue/first</p>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/queue/:id_queue/first</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">item</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">pick</span><span class="p">(</span><span class="n">id_queue</span><span class="p">)</span>
</code></pre>

<h3 id="get-number-of-items-in-one-queue">get number of items in one queue</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>(Non-destructively) get number of elements in queue</p>

<p>GET /queue/:id_queue/length</p>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/queue/:id_queue/length</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">item</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">pickLength</span><span class="p">(</span><span class="n">id_queue</span><span class="p">)</span>
</code></pre>

<h3 id="get-all-items-from-one-queue">get all items from one queue</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>(Non-destructively) pick all elements of queue</p>

<p>GET /queue/:id_queue/all</p>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/queue/:id_queue/all</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">item</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">pickAll</span><span class="p">(</span><span class="n">id_queue</span><span class="p">)</span>
</code></pre>

<h3 id="remove-one-queue">remove one queue</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>DELETE /queue/:id_queue</p>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/queue/:id_queue</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">deleteQueue</span><span class="p">(</span><span class="n">id_corpus</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successfully deleted."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="get-one-queue-39-s-permissions">get one queue&rsquo;s permissions</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>GET /queue/:id_queue/permissions</p>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/queue/:id_queue/permissions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">getQueuePermissions</span><span class="p">(</span><span class="n">id_queue</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="give-one-user-permissions-to-one-queue">give one user permissions to one queue</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>PUT /queue/:id_queue/user/:id_user</p>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/queue/:id_queue/user/:id_user</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">setQueuePermissions</span><span class="p">(</span><span class="n">id_queue</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">WRITE</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="n">id_user</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="remove-one-user-39-s-permissions-to-one-queue">remove one user&rsquo;s permissions to one queue</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>DELETE /queue/:id_queue/user/:id_user</p>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/queue/:id_queue/user/:id_user</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">removeQueuePermissions</span><span class="p">(</span><span class="n">id_queue</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="n">id_user</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="give-one-group-permissions-to-one-queue">give one group permissions to one queue</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>PUT /queue/:id_queue/group/:id_group </p>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/queue/:id_queue/group/:id_group</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">setQueuePermissions</span><span class="p">(</span><span class="n">id_queue</span><span class="p">,</span> <span class="n">client</span><span class="o">.</span><span class="n">WRITE</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="n">id_group</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="remove-on-group-39-s-permissions-to-one-queue">remove on group&rsquo;s permissions to one queue</h3>

<aside class="notice">Restricted to user with ADMIN permissions to the resource.</aside>

<p>DELETE /queue/:id_queue/group/:id_group</p>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/queue/:id_queue/group/:id_group</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">removeQueuePermissions</span><span class="p">(</span><span class="n">id_queue</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="n">id_group</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="miscellaneous">Miscellaneous</h2>

<h3 id="get-current-date-time">get current date/time</h3>

<p>GET /date</p>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/date</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>

<blockquote>
<p>Sample JSON response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight python"><code><span class="n">client</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
</code></pre>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="javascript">Javascript</a>
                <a href="#" data-language-name="http">HTTP</a>
          </div>
      </div>
    </div>
  </body>
</html>
