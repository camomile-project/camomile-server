<html>
	<head>
		<title>jsonp test</title>
		<script src="http://code.jquery.com/jquery-1.6.2.min.js"></script>		
		<script type="text/javascript">
            $(function(){				
                $('#select_post').click(function(e){
                    e.preventDefault();
                    console.log('select_link clicked');
 
					var data = {};
					data.id_layer = "51dffeb21525d59104000001";
					//data.name = "BFM";
					data.data = "Christian Ronaldo";
					
					data.fragment = {
							"start" : "1000",
							"end" : "5000"
						};
						
					data.history = {
							"name" : "TLP-droite",
							"date" : "11/07/2013"
						};
					
					$.ajax({
						type: 'POST',
						data: JSON.stringify(data),
				        contentType: 'application/json',
                        //url: 'http://localhost:3000/corpus/51cd83579474ece703000002/media',						
                        url: 'http://localhost:3000/corpus/51cd83579474ece703000002/media/51d33f532d769e5803000002/layer/51dffeb21525d59104000001/annotation',						
                        success: function(data) {
                            console.log('success');
                            console.log(JSON.stringify(data));
                        }
                    });
 
					/*$.ajax('http://localhost:3000/endpoint', {
					        type: 'POST',
					        data: JSON.stringify(data),
					        contentType: 'application/json',
					        success: function() { console.log('success');},
					        error  : function() { console.log('error');}
					});*/
                });				
            });
        </script>
        
        <script type="text/javascript">
            $(function(){				
                $('#select_update').click(function(e){
                    e.preventDefault();
                    console.log('select_link clicked');
                    //http://localhost:3000/corpus/51cd83579474ece703000002/media/51d33f532d769e5803000002/
                    //layer/51dffeb21525d59104000001/annotation
					var data = {};
					//data.id_corpus = "51cd83579474ece703000002";
					//data.name = "BFM";
					var itemAnno = {
						"fragment" : {
							"start" : "1000",
							"end" : "5000"
						},
						"data" : "Messi Lionel",
						"history" : {
							"name" : "TLP",
							"date" : "11/07/2013"
						}
					};
					

					$.ajax({
						type: 'PUT',
						data: JSON.stringify(itemAnno),
				        contentType: 'application/json',
                        //url: 'http://localhost:3001/corpusA/51cd866853b6d8fc03000002',						
                        url: 'http://localhost:3000/corpus/51cd83579474ece703000002/media/51d348f283851e7403000002/layer/51e00ec0a22713e40500004f/annotation/51e00ec0a22713e405000050',						
                        success: function(data) {
                            console.log('success');
                            console.log(JSON.stringify(data));
                        }
                    });
                });				
            });
        </script>

		<script type="text/javascript">
            $(function(){				
                $('#select_delete').click(function(e){
                    e.preventDefault();
                    console.log('select_link clicked');
                    //http://localhost:3000/corpus/51cd83579474ece703000002/media/51d33f532d769e5803000002/
                    //layer/51dffeb21525d59104000001/annotation
					
					$.ajax({
						type: 'DELETE',
						data : JSON.stringify({"id_anno":"51e004d21525d5910400006d"}),
				        contentType: 'application/json',
                        //url: 'http://localhost:3001/corpusA/51cd866853b6d8fc03000002',						
                        url: 'http://localhost:3000/corpus/51cd83579474ece703000002/media/51d33f532d769e5803000002/layer/51dffeb21525d59104000001/annotation/51e004d21525d5910400006d',						
                        success: function(data) {
                            console.log('success: already deleted!!! SORRRRY');
                            console.log(JSON.stringify(data));
                        }
                    });
                });				
            });
        </script>
    </head>
    <body>
        <div id="select_div"><a href="#" id="select_post">Click here to add a new annotation</a></div>
        <div id="select_div1"><a href="#" id="select_update">Click here to update an existing annotation</a></div>
        <div id="select_div2"><a href="#" id="select_delete">Click here to delete an existing annotation</a></div>    
    </body>
</html>